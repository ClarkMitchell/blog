<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Zero-downtime deployment</title>
    <meta name="description" content="I released a Laravel package that gives Artisan the power of zero downtime deployment. Get started in three simple steps.">
    
    
    <link rel="preload" href="/assets/css/0.styles.d1fafc99.css" as="style"><link rel="preload" href="/assets/js/app.f0379f84.js" as="script"><link rel="preload" href="/assets/js/2.f113c167.js" as="script"><link rel="preload" href="/assets/js/19.ad818b5a.js" as="script"><link rel="prefetch" href="/assets/js/10.463c40b2.js"><link rel="prefetch" href="/assets/js/11.41347932.js"><link rel="prefetch" href="/assets/js/12.160cf6fa.js"><link rel="prefetch" href="/assets/js/13.869049d5.js"><link rel="prefetch" href="/assets/js/14.6ab5dbac.js"><link rel="prefetch" href="/assets/js/15.5b213614.js"><link rel="prefetch" href="/assets/js/16.9b9d25f1.js"><link rel="prefetch" href="/assets/js/17.53e9786c.js"><link rel="prefetch" href="/assets/js/18.407766eb.js"><link rel="prefetch" href="/assets/js/20.6a6cbda5.js"><link rel="prefetch" href="/assets/js/21.16473eda.js"><link rel="prefetch" href="/assets/js/22.17daa536.js"><link rel="prefetch" href="/assets/js/23.a3b585a7.js"><link rel="prefetch" href="/assets/js/24.693bd400.js"><link rel="prefetch" href="/assets/js/25.1cb8e654.js"><link rel="prefetch" href="/assets/js/3.e245ae37.js"><link rel="prefetch" href="/assets/js/4.32ef7c1a.js"><link rel="prefetch" href="/assets/js/5.1fabd509.js"><link rel="prefetch" href="/assets/js/6.3a66a41c.js"><link rel="prefetch" href="/assets/js/7.9038972a.js"><link rel="prefetch" href="/assets/js/8.0cd2f1f4.js"><link rel="prefetch" href="/assets/js/9.1449d7bd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d1fafc99.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="content default"><h1 id="zero-downtime-deployment"><a href="#zero-downtime-deployment" aria-hidden="true" class="header-anchor">#</a> Zero-downtime deployment</h1> <p>I released a Laravel package that gives Artisan the power of zero downtime deployment. Get started in three simple steps.</p> <GithubButton url="https://github.com/lorisleiva/laravel-deployer" title="Laravel Deployer on GitHub"></GithubButton> <h2 id="introduction"><a href="#introduction" aria-hidden="true" class="header-anchor">#</a> Introduction</h2> <p>In my quest to have more control over my deployments, I discovered a few useful open source tools that let me achieve this with the luxury of zero downtime deployments. As a Laravel developer, <a href="https://github.com/deployphp/deployer" target="_blank" rel="noopener noreferrer">Deployer.org<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> was the most suitable and comfortable option for me. Since most of the configurations I used for my projects were Laravel specific more than project specific, I decided to extract that logic into a package and encapsulate it within our friend <code>php artisan</code>.</p> <h2 id="let-s-deploy"><a href="#let-s-deploy" aria-hidden="true" class="header-anchor">#</a> Let's deploy</h2> <p>Deploying your application with <a href="https://github.com/lorisleiva/laravel-deployer" target="_blank" rel="noopener noreferrer">Laravel Deployer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is as simple as those three steps:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>composer require lorisleiva/laravel-deployer
php artisan deploy:init
php artisan deploy
</code></pre></div><ol><li>Start by installing the package via composer. Since Laravel 5.5 you don’t even need to register the service provider.</li> <li>You then need to set up your deployment configuration via the <code>deploy:init</code> artisan command. This will ask you a few questions to help you get started.</li> <li>When your configuration file is ready simply run <code>php artisan deploy</code> and watch your deployment flow automate itself for you.</li></ol> <h2 id="simple-learning-curve"><a href="#simple-learning-curve" aria-hidden="true" class="header-anchor">#</a> Simple learning curve</h2> <p>Whilst the learning curve of Deployer.org is already very light, Laravel Deployer provides a <a href="https://github.com/lorisleiva/laravel-deployer/blob/master/docs/README.md" target="_blank" rel="noopener noreferrer">documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> tailored for Laravel projects.</p> <p>Laravel Deployer also provides extra tasks and set up options relevant for Laravel deployments. For example you can use the <code>--forge</code> flag when creating your configuration file to help you set up the deployment of a server maintained in Laravel Forge. You can migrate your database, build your assets via NPM, terminate horizon gracefully, reload php-fpm and of course create your own tasks to customize your deployment flow.</p> <h2 id="deployment-power-to-artisan"><a href="#deployment-power-to-artisan" aria-hidden="true" class="header-anchor">#</a> Deployment power to artisan</h2> <p>With Laravel Deployer, Artisan can now leverage the full power of Deployer.org without requiring your developers to install any global dependencies.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>deploy                <span class="token comment"># Deploy your Laravel application</span>
deploy:configs        <span class="token comment"># Print host configuration</span>
deploy:current        <span class="token comment"># Show current paths</span>
deploy:dump <span class="token operator">&lt;</span>task<span class="token operator">&gt;</span>    <span class="token comment"># Display the task-tree for a given task</span>
deploy:hosts          <span class="token comment"># Print all hosts</span>
deploy:init           <span class="token comment"># Generate deploy.php configuration file</span>
deploy:list           <span class="token comment"># Lists available tasks</span>
deploy:run <span class="token operator">&lt;</span>task<span class="token operator">&gt;</span>     <span class="token comment"># Execute a given task on your hosts</span>
</code></pre></div><p>Once you’ve set up your deployment hosts you can even use the shortcut <code>php artisan ssh</code> to connect to your server.</p> <p>I hope this package will save you as much time as it will do for my future projects. Contributions and feature requests are more than welcome to ensure more of us can deploy with minimal configuration steps.</p> <GithubButton url="https://github.com/lorisleiva/laravel-deployer" title="Laravel Deployer on GitHub"></GithubButton></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f0379f84.js" defer></script><script src="/assets/js/2.f113c167.js" defer></script><script src="/assets/js/19.ad818b5a.js" defer></script>
  </body>
</html>
